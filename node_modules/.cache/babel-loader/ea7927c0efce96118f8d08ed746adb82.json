{"ast":null,"code":"import _slicedToArray from\"/Users/vinceagocs/Documents/GitHub/platina3000/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useEffect,useState}from'react';import{useParams}from'react-router-dom';import Lightbox from'react-image-lightbox';import'react-image-lightbox/style.css';import{ReferenceContext}from'../ReferenceContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ReferenceDetail=function ReferenceDetail(props){// Current photo index\nvar _useState=useState(0),_useState2=_slicedToArray(_useState,2),photoIndex=_useState2[0],setPhotoIndex=_useState2[1];// LightBox state: true/false\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isOpen=_useState4[0],setIsOpen=_useState4[1];// Import ReferncesContext\nvar _useContext=useContext(ReferenceContext),references=_useContext.references,isLoaded=_useContext.isLoaded;// Get project name from url\nvar _useParams=useParams(),project=_useParams.project;// States for current porject and it's gallery\nvar _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),currentProject=_useState6[0],setCurrentProject=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),gallery=_useState8[0],setGallery=_useState8[1];// Get current project from Context\nuseEffect(function(){if(isLoaded){var current=references.filter(function(reference){return reference.subtitle===project;})[0];setCurrentProject(current);setGallery(current.gallery);}},[project,references,isLoaded]);return/*#__PURE__*/_jsxs(\"section\",{id:\"wip\",className:\"py-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text ml-4 mt-2\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"mb-05\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"slash\",children:\"\\\\\"}),\" Referenci\\xE1k\"]}),/*#__PURE__*/_jsx(\"h2\",{className:\"mb-2\",id:\"name\",\"data-name\":project,children:currentProject.title})]}),/*#__PURE__*/_jsx(\"div\",{className:\"images grid m-4\",children:gallery.map(function(current){return/*#__PURE__*/ (// eslint-disable-next-line jsx-a11y/anchor-is-valid\n_jsx(\"a\",{className:\"image\",onClick:function onClick(){setIsOpen(true);setPhotoIndex(gallery.indexOf(current));},title:current.fileName,children:/*#__PURE__*/_jsx(\"img\",{src:current.url,alt:\"\",style:Border})},current.id));})}),/*#__PURE__*/_jsx(\"div\",{children:isOpen&&/*#__PURE__*/_jsx(Lightbox,{mainSrc:gallery[photoIndex].url,nextSrc:photoIndex===gallery.length-1?gallery[0].url:gallery[photoIndex+1].url,prevSrc:photoIndex===0?gallery[gallery.length-1].url:gallery[(photoIndex-1)%gallery.length].url,enableZoom:false,imageTitle:gallery[photoIndex].fileName,onCloseRequest:function onCloseRequest(){return setIsOpen(false);},onMovePrevRequest:function onMovePrevRequest(){return setPhotoIndex((photoIndex+gallery.length-1)%gallery.length);},onMoveNextRequest:function onMoveNextRequest(){return setPhotoIndex((photoIndex+1)%gallery.length);}})})]});};var Border={borderRadius:'5px'};export default ReferenceDetail;","map":{"version":3,"sources":["/Users/vinceagocs/Documents/GitHub/platina3000/src/components/ReferenceDetail.js"],"names":["React","useContext","useEffect","useState","useParams","Lightbox","ReferenceContext","ReferenceDetail","props","photoIndex","setPhotoIndex","isOpen","setIsOpen","references","isLoaded","project","currentProject","setCurrentProject","gallery","setGallery","current","filter","reference","subtitle","title","map","indexOf","fileName","url","Border","id","length","borderRadius"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Lightbox from 'react-image-lightbox';\nimport 'react-image-lightbox/style.css';\nimport { ReferenceContext } from '../ReferenceContext';\n\n\nconst ReferenceDetail = props => {\n\n    // Current photo index\n    const [photoIndex, setPhotoIndex] = useState(0);\n\n    // LightBox state: true/false\n    const [isOpen, setIsOpen] = useState(false);\n\n    // Import ReferncesContext\n    const { references, isLoaded } = useContext(ReferenceContext);\n\n    // Get project name from url\n    const { project } = useParams();\n\n    // States for current porject and it's gallery\n    const [ currentProject, setCurrentProject] = useState({});\n    const [ gallery, setGallery] = useState([]);\n    \n    // Get current project from Context\n    useEffect(() => {\n      if (isLoaded) {\n        const current = references.filter(reference => reference.subtitle === project)[0];\n        setCurrentProject(current)\n        setGallery(current.gallery)\n      }\n        \n    }, [project, references, isLoaded])\n\n    return (\n        <section id=\"wip\" className=\"py-1\">\n                <div className=\"text ml-4 mt-2\">\n                    <h4 className=\"mb-05\"><strong className=\"slash\">\\</strong> Referenci√°k</h4>\n                    <h2 className=\"mb-2\" id=\"name\" data-name={project}>{currentProject.title}</h2>\n                </div>\n                <div className=\"images grid m-4\">\n                {gallery.map(current => (\n                    // eslint-disable-next-line jsx-a11y/anchor-is-valid\n                    <a className=\"image\" onClick={() => {setIsOpen(true); setPhotoIndex(gallery.indexOf(current))}} title={current.fileName} key={current.id}>\n                        <img src={current.url} alt=\"\" style={Border}/>\n                    </a>\n                ))}\n                </div>\n                <div>\n        {isOpen && (\n          <Lightbox\n            mainSrc={gallery[photoIndex].url}\n            nextSrc={photoIndex === gallery.length - 1 ? gallery[0].url : gallery[(photoIndex + 1)].url}\n            prevSrc={photoIndex === 0 ? gallery[(gallery.length - 1)].url : gallery[(photoIndex - 1) % gallery.length].url}\n            enableZoom={false}\n            imageTitle={gallery[photoIndex].fileName}\n            onCloseRequest={() => setIsOpen(false)}\n            onMovePrevRequest={() =>\n              setPhotoIndex((photoIndex + gallery.length - 1) % gallery.length)\n            }\n            onMoveNextRequest={() =>\n              setPhotoIndex((photoIndex + 1) % gallery.length)}\n          />\n        )}\n      </div>     \n    </section>\n    );\n    \n\n}\n\nconst Border = {\n        borderRadius: '5px'\n}\n                \n\nexport default ReferenceDetail;"]},"metadata":{},"sourceType":"module"}